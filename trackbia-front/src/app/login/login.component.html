<div class="card card-container">
  <img
    id="profile-img2"
    src="//ssl.gstatic.com/accounts/ui/avatar_2x.png"
    class="profile-img-card"
  />
  <form
    *ngIf="!isLoggedIn"
    name="form"
    (ngSubmit)="f.form.valid && onSubmit()"
    #f="ngForm"
    novalidate
  >
    <div class="form-group">
      <div class="field">

        <label class="label" for="username">Username</label>
        <input
          type="text"
          class="input form-control"
          name="username"
          [(ngModel)]="form.username"
          required
          #username="ngModel"
        />
        <div
          class="notification is-danger"
          role="alert"
          *ngIf="username.errors && f.submitted" style="margin-top: 3px;"
        >
          Username is required!
        </div>
      </div>
    </div>
    <div class="form-group">
      <label class="label" for="password">Password</label>
      <input
        type="password"
        class="input form-control"
        name="password"
        [(ngModel)]="form.password"
        required
        minlength="6"
        #password="ngModel"
      />
      <div
        class="notification is-danger"
        role="alert"
        *ngIf="password.errors && f.submitted" style="margin-top: 3px;"
      >
        <div *ngIf="password.errors.required">Password is required</div>
        <div *ngIf="password.errors.minlength">
          Password must be at least 6 characters
        </div>
      </div>
    </div>
    <div class="form-group" style="margin-top: 20px;">
      <button class="button is-info is-fullwidth">
        Login
      </button>
    </div>
    <div class="form-group">
      <div
        class="notification is-danger"
        role="alert"
        *ngIf="f.submitted && isLoginFailed"
      >
        Login failed: {{ errorMessage }}
      </div>
    </div>
  </form>

  <div class="notification is-success" *ngIf="isLoggedIn">
    Logged in as {{ username }}.
  </div>
</div>
